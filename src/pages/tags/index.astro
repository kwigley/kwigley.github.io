---
import { SITE } from "@/config";
import { getCollection } from "astro:content";
import Layout from "@/layouts/Layout.astro";
import SectionContainer from "@/components/SectionContainer.astro";
import { Icon } from "astro-icon";
import getSortedTags from "@/utils/getSortedTags";

const posts = await getCollection("blog");

let tags = getSortedTags(posts);
---

<Layout title={`Tags - ${SITE.title}`}>
  <div class="wrap-sm grid gap-16 px-8 md:gap-24 lg:gap-32 mx-auto">
    <SectionContainer class="mt-32">
      <a
        href="/"
        class="group font-medium flex no-underline text-neutral-500 mb-8"
      >
        <Icon
          name="ph:arrow-left-light"
          class="w-6 h-6 mr-4 transition group-hover:-translate-x-1 motion-reduce:transition-none motion-reduce:hover:transform-none"
        />
        Back to home
      </a>
      <h2
        class="font-medium text-h4 text-neutral-500 my-4 leading-8 tracking-tighter"
      >
        Tags
        <span class="ml-2 opacity-70 text-xl"> (All tags used in blogs)</span>
      </h2>
      <ul class="list-none space-y-5">
        {
          tags.length == 0 && (
            <span class="text-neutral-500">... one day</span>
          )
        }
        {
          tags.map((tag) => (
            <li class={`inline-block my-3 mx-1 underline-offset-8`}>
              <a
                href={`/tags/${tag.toLowerCase()}`}
                class={`text-lg pr-2 flex flex-wrap items-center relative underline transition hover:-translate-y-0.5 hover:text-skin-accent focus-visible:p-1`}
              >
                <Icon name="mdi:hashtag" class="w-6 h-6" />
                &nbsp;<span>{tag.toLowerCase()}</span>
              </a>
            </li>
          ))
        }
      </ul>
    </SectionContainer>
  </div>
</Layout>
